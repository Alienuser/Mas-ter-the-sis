\section{Vorbereitung}
Dieses Kapitel beschreibt die benötigten Vorkehrungen für die Entwicklung eines neuronalen Netzes und einer
TensorFlow.js Applikation. Dazu muss zunächst ein kostenloses IBM Cloud Konto erstellt und drei Services eingerichtet
werden. Für die Entwicklung müssen zwei Programme auf dem Entwicklungsrechner installiert.

Diese Schritte werden benötigt, da sonst nicht mit den Systemen gearbeitet werden kann. Im Weiteren werden die dafür
notwendigen Schritte einzelnd erläutert und getestet.

\subsection{IBM Cloud Konto}
Für die Arbeit mit der IBM Cloud benötigt der Anwender ein kostenloses Benutzerkonto. Dieses wird auf der zugehörigen
Registrierungsseite\footnote{https://console.bluemix.net/registration} erstellt und eingerichtet.

Nachdem das Konto erfolgreich mit einem an die hinterlegte E-Mail-Adresse verschickten Bestäigungslink aktiviert ist,
kann der Anwender dieses 30 Tage lang ohne anfallende Gebühren für Services oder Runtimes nutzen.

Nach dem ersten Aufruf des IBM Cloud Dashboards, muss man einen Namen für die automatisch erstellte Organisation
eintragen. Dieser spielt für die Umsetzung keine Rolle und die Organisation kann zu jedem Zeitpunkt umbenannt oder auch
gelöscht werden. Ein Beispiel für den Organisationsnamen ist \textit{Machine-Learning}.

Direkt im Anschluss wird nach einem Namen für den ersten Space in der erstellten Organisation gefragt. Auch dieser
spielt für die Umsetzung keine Rollte und kann zu jedem Zeitpunkt umbenannt oder auch gelöscht werden. Ein Beispiel für
die Benamung des ersten Spaces ist \textit{dev}, was eine Abkürzung für \textit{developper} ist.

Ein \textit{Space} gruppiert mehrere Runtimes und Services in einem Rechenzentrum. Von diesen Rechenzentren gibt es in
der IBM Cloud aktuell sechs, verteilt auf drei Kontinente. Eine \textit{Organisation} kann mehrere Spaces beinhalten.

\subsection{IBM Cloud CLI}
Für die einfache Verwaltung der IBM Cloud empfiehlt sich, dass zugehörige Command Line Interface (kurz \textit{CLI}) zu
installieren. Die Installation unter Linux und macOS erfolgt durch die Eingabe des folgenden Kommandos in eine Shell:

\begin{lstlisting}[language=bash, caption=Installation des IBM Cloud CLI, label=Installation des IBM Cloud CLI]
    $ curl -sL http://ibm.biz/idt-installer | bash
\end{lstlisting}

Anschließend wird die erfolgreiche Installation über das folgende Kommando überprüft:

\begin{lstlisting}[language=bash, caption=Installation des CLI überprüfen, label=Installation des CLI überprüfen]
    $ ibmcloud dev help
\end{lstlisting}

Die Ausgabe zeigt eine Übersicht über alle möglichen Befehle des \textit{ibmcloud}-Tools. Eine angezeigte Fehlermeldung
gibt Auskunft über eine fehlgeschlagene Installation. Weitere Informationen sind auf der betreffenden
Installationsseite\footnote{https://console.bluemix.net/docs/cli/reference/bluemix\_cli/get\_started.html} zu finden.

Mit der Installation des IBM Cloud-CLI wird ein symbolischer Link über das Kommando \texttt{bx} angelegt. Somit kann der
Befehl \textit{ibmcloud} auch immer durch \textit{bx} ersetzt werden.

\subsection{Watson Studio}
Für den Aufbau und die Konfiguration des neuronalen Netzes wird der Service \textit{Watson Studio} benötigt. Aktuell gibt
es zwei Möglichkeiten einen Service oder eine Runtime in einen erstellten Space einzubinden.

\subsubsection*{Über das IBM Cloud Dashboard}
Mit einem Klick auf \textit{Katalog} auf dem IBM Cloud Dashboard öffnet sich dieser und listet alle Services und Runtimes
auf, die der Anwender aktuell nutzen kann. Der Service \textit{Watson Studio} befindet sich in der Kategorie
\textit{Künstliche Intelligenz}. Ein klick auf diesen öffnet die entsprechende Konfigurationsseite.

Auf der Konfigurationsseite muss man den frei wählbare \textit{Servicename} für den Service definiert. Über diesen
erscheint er später im IBM Cloud Dashboard. Anschließend muss der Entwickler die Region auswählen, in welcher der Service
zur Verfügung steht. Über die Region wird das Rechenzentrum und somit auch der Kontinent definiert, in welchem der Service
läuft.

Auch muss man die Ressourcengruppe und die Organisation auswählen, in die der Service gespeichert wird. Da es aktuell aber
nur eine Ressourcengruppe und einen Organisation gibt, kann die Standardeinstellung beibehalten werden.

Mit einem Klick auf \texttt{Erstellen}, wird der Service Instanziiert und es erfolgt eine Weiterleitung zurück auf das
Dashbaord. Dort erscheint der Service mit dem eingetragenen Namen in der Liste der \textit{Services}.

Über das Dashboard wird die Übersichtsseite des Watson Studio Service durch einen Klick auf diesen geöffnet. Auf der
folgenden Seite finden sich Hinweise auf die Funktionenweiße des Service. Über die Schaltfläche \texttt{Get Started}
wechselt der Nutzer in das Watson Studio Dashboard.

\subsubsection*{Über die CLI}
Alternativ erfolgt die Installation des Services mittels dem installierten CLI. Dazu wird im ersten Schritt das CLI mit
dem IBM Cloud-Konto verknüpft. Der folgende Befehl setzt den dafür notwendigen API-Endpunkt:

\begin{lstlisting}[language=bash, caption=Setzen des API Targets, label=Setzen des API Targets]
    $ ibmcloud api https://api.ng.bluemix.net
\end{lstlisting}

Anschließend erfolgt ein Login über den folgenden Befehl in der Shell:

\begin{lstlisting}[language=bash, caption=Login über CLI und Single Sign-on, label=Login über CLI und SSO]
    $ ibmcloud login --sso
\end{lstlisting}

Der Parameter \texttt{sso} bewirkt, dass der Login über ein sich öffnendes Browserfenster erfolgt. Dies ermöglicht einen
bequemen Login ohne Kommandozeile.

Nach einem erfolgreichen Login, muss der Nutzer seine Organisation auswählen. Dies geschieht über die Eingabe der
entsprechenden Nummer der Organisation, welche am linken Rand zu sehen ist. Der Login-Vogang ist damit abgeschlossen.

Der Benutzer kann eine neue Instanz des \textit{Watson Studio}-Service mit dem folgenden Befehl erstellen:

\begin{lstlisting}[language=bash, caption=Instanziierung des Watson Studio Services, label=Instanziierung des Watson Studio Services]
    $ ibmcloud cf create-service Watson-Studio lite sercive_name
\end{lstlisting}

Für den Parameter \texttt{service\_name} muss man einen Name eingetragen, unter welchem der Service aufrufbar ist. Über
den Befehl \texttt{cf services} können alle instanziierten Services, welche sich in der vorher ausgewählten Organisation
befinden, aufgelistet werden.

\begin{lstlisting}[language=bash, caption=Auflisten aller Services in einer Organisation, label=Auflisten aller Services in einer Organisation]
    $ ibmcloud cf services
\end{lstlisting}

Der erstellte Service sollte nun mit dem definierten Namen in der Liste der Services erscheinen.

Abschließend muss man ein Projekt im Watson Studio anlegen. Dieses bündelt alle Daten und Informationen an einem
gemeinsamen Ort. Um ein Projekt zu erstellen, wird das Watson Studio Dashboard über das IBM Cloud Dashboard aufgerufen.

Die Schlatfläche \texttt{New project} legt im Watson Studio Dashboard ein neues Projekt an. Auch hier muss man einen Namen
für das Projekt definieren und anschließend einen Local Storage einrichten (dies geschicht über den Mini-Wizzard auf der
rechten Seite). Das Projekt kann man über die Schaltfläche \texttt{Create} speichern und es wird feftig eingerichtet.

\subsection{Node.js Runtime}
\label{ssc:nodejs_runtime}
Für die Erstellung der Node.js-Applikation wird eine entsprechende Runtime in der IBM Cloud benötigt. Für die Runtime
nutzt man am einfachsten einen vorkonfigurierten Cloud Foundry-Container mit Node.js-Konfiguration. Für die Erstellung
existieren ebenfalls zwei Möglichkeiten.

Im vorangegangenen Kapitel wurden die beiden Möglichkeiten (über den IBM Cloud Katalog und über die Kommandozeile)
ausführlich erläutert. Über das folgende Kommando der CLI erstellt man sich die benötigte Runtime in einem Container.

\begin{lstlisting}[language=bash, caption=Instanziierung der Node.js Runtime, label=Instanziierung der Node.JS Runtime]
    $ ibmcloud cf create-service nodejs service_name
\end{lstlisting}

Auch hier wird über den Parameter \texttt{service\_name} der Name für die Applikation vergeben. Die URL, über die
der Container später aufrufbar ist, folgt dem Schema \texttt{https://service\_name.mybluemix.net}.

Dies bedeutet, dass der Name nur ein Mal im kompletten System vergeben sein darf. Eine Meldung gibt Hinweise darauf, ob
die Applikation erfolgreich erstellt werden konnte, oder ob ein anderer Name für die Applikation verwendet werden muss.

\subsection{API Connect}
\label{subsec:vorbereitung_apiconnect}
Um im weiteren Verlauf den API Gateway, \textit{API Connect}, zu nutzen, muss dieser ebenfalls im IBM Cloud
instanziiert werden. Wie auch in den beiden vorangegangenen Kapiteln kann die Instanziierung über die CLI als auch
über den IBM Cloud Katalog geschehen.

Einfachheitshalber wird im Folgenden die Instanziierung des Services mittels IBM Cloud CLI aufgezeigt.

\begin{lstlisting}[language=bash, caption=Instanziierung von API Connect, label=Instanziierung von API Connect]
$ ibmcloud cf create-service API-Connect lite service_name
\end{lstlisting}

Über den Parameter \texttt{service\_name} definiert man den Name für den Service. Über diesen ist er im IBM Cloud
Dashboard auffindbar.

\subsection{Git}
Für die Verwaltung und den späteren, automatisierten Installationsvorgang des geschriebenen Quellcodes wird Git verwendet.
Unter Linux erfolgt die Installation des Programmes über das folgende Kommando:

\begin{lstlisting}[language=bash, caption=Installation von Git, label=Installation von Git]
    $ sudo apt-get install git
\end{lstlisting}

Unter macOS steht ein Grafische Installationsprogramm\footnote{http://sourceforge.net/projects/git-osx-installer} zur
Verfügung.

\subsection{Node.js und npm}
Für die Entwicklung und die damit verbundenen Tests und Probeläufe auf dem Entwicklungsrechner wird ein installiertes
Node.js benötigt. Eine Installation der zur Zeit aktuellsten LTS-Version (8.12.0) erfolgt unter Linux über das folgende
Kommando:

\begin{lstlisting}[language=bash, caption=Installation von Node.js, label=Installation von Node.js]
    $ curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -
    $ sudo apt-get install -y nodejs
\end{lstlisting}

Für macOS existiert ein Installationspaket, welches auf der Download-Seite\footnote{https://nodejs.org/dist/v8.12.0/node-v8.12.0.pkg}
zur Verfügung steht.

Bei der Installation von Node.js wird npm automatisch mitinstalliert. Dieser ist der Node.js eigene Paketmanager und wird
für die spätere Installation von Abhängigkeiten für die Applikation benötigt.